"0","library(tidyr)"
"0","library(dplyr)"
"0","library(magrittr)"
"0","# mean temp 1901-2019"
"0","TEMP <- read.table(""C:/Users/Makabe/opennaps/Sierra-Leone/CRU.CY.4.04.TEMP.txt"", header=TRUE, quote=""\"""", stringsAsFactors=TRUE)"
"0",""
"0","mtemp<-TEMP[,c(-1,-14,-15,-16,-17,-18)]"
"0","anntemp<-TEMP[,c(1,18)]"
"0",""
"0","# base 1961-1990"
"0","base81<-subset(anntemp, YEAR>1960)%>%subset( YEAR<1991)"
"0",""
"0","meanbase<-sum(base81$ANN)/30"
"0","  "
"0","anntemp$anomaly<-anntemp$ANN-meanbase"
"0",""
"0","anntemp$pos<-anntemp$anomaly >=0"
"0",""
"0","#anntemp%>%dplyr::filter(YEAR>1950)%>%"
"0","#plotly::plot_ly(type = 'bar', x=~YEAR, y=~anomaly, color =~pos)%>%"
"0","  #plotly::layout(yaxis=list(title='Temperature Anomaly (°C)',title='Sierra Leone \n (Mean 1901-2020)'))"
"0",""
"0","library(ggplot2)"
"0","anntemp%>%dplyr::filter(YEAR>1950)%>%"
"0","ggplot()+"
"0","  geom_col(aes(x = YEAR, y = anomaly, fill = pos),position = ""identity"", colour = ""white"", size = 0.01) +"
"0","  labs(x='Year', y= 'Temperature Anomaly (°C)')+"
"0","  ggtitle('   Sierra Leone \n(Base: 1961-1990)')+"
"0","  scale_fill_manual(values = c('blue', 'red'), guide = 'none')"
